<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>作业四</title>
</head>

<body>
<form onsubmit="return check(this);" action="four.jsp">
  <table>
    <tr>
      <td><label for="username">用户名</label></td>
      <td><input id="username" type="text" /></td>
    </tr>
    <tr>
      <td><label for="password">密码</label></td>
      <td><input id="password" type="text"/></td>
    </tr>
    <tr>
      <td><label for="nation">籍贯</label></td>
      <td><select>
        <option value=”bj”>北京</option>
        <option value=”sh”>上海</option>
      </select></td>
    </tr>
    <tr>
      <td><label for="birth">出生年月</label></td>
      <td><input id="birth" type="text"/></td>
    </tr>
    <tr>
      <td><label for="sex">性别</label></td>
      <td><input id="sex" type="text"/></td>
    </tr>
    <tr>
      <td><label for="sex">爱好</label></td>
      <td><input id="sex" type="text"/></td>
    </tr>
    <tr>
      <td><label for="height">身高</label></td>
      <td><input id="height" type="text"/></td>
    </tr>
    <tr>
      <td><label for="email">邮箱</label></td>
      <td><input id="email" type="text" /></td>
    </tr>
    <tr>
      <td><label for="phone">手机</label></td>
      <td><input id="phone" type="text"/></td>
    </tr>
    <tr>
      <td><label for="introduction">个人介绍</label></td>
      <td><input id="introduction" type="text"/></td>
    </tr>
  </table>
  <input type="submit" value="提交"> 
</form>
</body>
<script type="text/javascript">
window.onload=function(){
	
};
function validate_email(field,alerttxt)
{
with (field)
{
apos=value.indexOf("@")
dotpos=value.lastIndexOf(".")
if (apos<1||dotpos-apos<2) 
  {alert(alerttxt);return false;}
else {return true;}
}
}

function validate_form(thisform)
{
with (thisform)
{
if (validate_email(email,"邮箱格式不对")==false)
  {email.focus();return false;}
  else return true;
}
}
function isRegisterUserName(s)  
{  
var patrn=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){5,9}$/;  
if (!patrn.exec(s)) {
	alert("用户名长度在6到10位之间且只能用字母开头");
	return false;
}
return true;
}
function isPasswd(s)
{  
var patrn=/^(\w){6,20}$/;  
if (!patrn.exec(s)) {
	return false;
}
return true;
}  
function checkPhone(s){
var patrn=/^\d{11,11}$/;  
if (!patrn.exec(s)) {
	alert("手机号为11位且不能为非数字");
	return false;
}
return true;
}
function check(obj){
	var username=document.getElementById("username").value;
	var password=document.getElementById("password").value;
	var phone=document.getElementById("phone").value;
	if(isRegisterUserName(username)&&isPasswd(password)&&		validate_form(obj)&&checkPhone(phone)){
		return true;
	}
	else return false;
}
</script>
</html>
